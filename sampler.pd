#N canvas 575 137 1256 819 10;
#X obj 204 109 cnv 5 5 5 empty empty LENGTH 0 0 0 8 -262144 -120682
0;
#X obj 104 124 cnv 5 5 5 empty empty SAMPLER 0 0 0 12 -262144 -66577
0;
#X obj 105 303 cnv 5 5 5 empty empty OUT_L 0 0 0 8 -262144 -66577 0
;
#X obj 175 124 cnv 5 5 5 empty \$0-instance-num 1 0 0 0 12 -262144
-66577 0;
#X obj 252 109 cnv 5 5 5 empty empty START 0 0 0 8 -262144 -120682
0;
#X obj 46 334 cnv 15 400 600 empty empty load_file 20 12 0 14 -233017
-66577 0;
#X obj 457 334 cnv 15 655 955 empty empty sampler 20 12 0 14 -261682
-66577 0;
#X obj 227 380 bng 30 250 50 0 empty empty empty 17 7 0 10 -204800
-1 -1;
#X floatatom 227 454 20 0 0 0 - - -, f 20;
#X obj 227 611 /;
#X obj 227 557 t b f;
#X obj 670 1053 *~;
#X obj 670 910 *~;
#X obj 669 967 +~;
#X obj 107 183 hsl 128 15 -2 2 0 1 \$0-sampler-pitch-s \$0-sampler-pitch-r
PITCH 133 7 0 10 -262144 -1 -1 9525 1;
#X obj 107 198 hsl 128 15 0 127 0 1 \$0-sampler-length-s \$0-sampler-length-r
LENGTH 133 7 0 10 -262144 -1 -1 12700 1;
#X obj 107 213 hsl 128 15 0 127 0 0 \$0-sampler-start-s \$0-sampler-start-r
START 133 7 0 10 -262144 -1 -1 0 1;
#X obj 670 711 phasor~;
#X text 73 385 Get path to sample;
#X text 510 963 Sample start position;
#X text 560 907 Sample length;
#X text 547 548 Freq adjustment;
#X text 50 588 Calculate freq based;
#X text 74 605 off of sample size;
#X text 518 369 Adjust freq for;
#X text 494 386 new sample length;
#X obj 668 1177 outlet~;
#X obj 104 133 bng 15 250 50 0 \$0-open empty OPEN_FILE 18 7 0 10 -204800
-1 -1;
#X obj 272 385 r \$0-open;
#X obj 671 827 *~;
#X text 530 679 Loop or one shot;
#X obj 222 133 tgl 15 1 \$0-loop-on-off-s \$0-loop-on-off-r LOOP 18
7 0 10 -204800 -1 -1 1 1;
#X obj 521 118 s \$0-bang;
#N canvas 30 543 506 343 open 0;
#X obj 175 57 openpanel;
#X obj 175 290 soundfiler;
#X text 83 291 Load sample;
#X obj 175 23 inlet;
#X obj 175 315 outlet;
#X obj 175 238 pack s s s;
#X obj 175 143 t a b b;
#X msg 175 263 read -resize \$1 \$2 \$3;
#X obj 213 173 symbol \$0-sample-L;
#X obj 252 203 symbol \$0-sample-R;
#X obj 194 77 r \$0-filename-r;
#X obj 194 117 s \$0-filename-s;
#X connect 0 0 6 0;
#X connect 0 0 11 0;
#X connect 1 0 4 0;
#X connect 3 0 0 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 6 1 8 0;
#X connect 6 2 9 0;
#X connect 7 0 1 0;
#X connect 8 0 5 1;
#X connect 9 0 5 2;
#X connect 10 0 6 0;
#X connect 10 0 11 0;
#X restore 227 427 pd open file;
#X text 466 1054 Scale to length of sample;
#X obj 670 995 wrap~;
#X obj 227 636 s \$0-normal-freq;
#X obj 687 444 r \$0-normal-freq;
#X obj 259 514 s \$0-file-size;
#X obj 688 1026 r \$0-file-size;
#X obj 736 1176 outlet~;
#N canvas 826 77 720 857 state-saving-multiple-instances 0;
#X obj 237 17 loadbang;
#X obj 292 510 textfile;
#X msg 594 493 rewind;
#X msg 551 493 bang;
#X obj 71 809 textfile;
#X obj 551 454 t b b;
#X obj 71 355 f;
#X obj 83 638 f;
#X obj 12 459 t b b b;
#X msg 147 638 clear;
#X obj 315 215 outlet;
#X text 365 216 INSTANCE NUMBER;
#X obj 269 151 f \$1;
#X obj 269 187 t f f f;
#X obj 237 60 t b b;
#X obj 12 376 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 12 232 r SAVE-S;
#X msg 83 779 write statesave/\$1-sampler-ss.txt;
#X msg 292 445 read statesave/\$1-sampler-ss.txt;
#X obj 301 114 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 222 r \$0-sampler-pitch-s;
#X obj 100 244 r \$0-sampler-length-s;
#X obj 110 266 r \$0-sampler-start-s;
#X obj 129 291 r \$0-sampler-pitch-att-s;
#X obj 149 316 r \$0-sampler-length-att-s;
#X obj 168 339 r \$0-sampler-start-att-s;
#X obj 188 362 r \$0-loop-on-off-s;
#X obj 299 467 print reading-from;
#X obj 292 755 s \$0-sampler-pitch-r;
#X obj 313 731 s \$0-sampler-length-r;
#X obj 335 707 s \$0-sampler-start-r;
#X obj 356 683 s \$0-sampler-pitch-att-r;
#X obj 378 657 s \$0-sampler-length-att-r;
#X obj 399 633 s \$0-sampler-start-att-r;
#X obj 421 607 s \$0-loop-on-off-r;
#X obj 208 382 r \$0-filename-s;
#X obj 443 586 s \$0-filename-r;
#X obj 222 402 r \$0-sample-rate-s;
#X obj 71 459 pack f f f f f f f s f;
#X obj 463 566 s \$0-sample-rate-r;
#X obj 292 532 unpack f f f f f f f s f;
#X msg 71 496 set \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8 \$9;
#X connect 0 0 14 0;
#X connect 1 0 40 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 2 0;
#X connect 6 0 38 0;
#X connect 7 0 17 0;
#X connect 8 0 7 0;
#X connect 8 1 6 0;
#X connect 8 2 9 0;
#X connect 9 0 4 0;
#X connect 12 0 13 0;
#X connect 13 0 7 1;
#X connect 13 1 18 0;
#X connect 13 2 10 0;
#X connect 14 0 5 0;
#X connect 14 1 12 0;
#X connect 15 0 8 0;
#X connect 16 0 15 0;
#X connect 17 0 4 0;
#X connect 18 0 1 0;
#X connect 18 0 27 0;
#X connect 19 0 12 0;
#X connect 20 0 6 1;
#X connect 21 0 38 1;
#X connect 22 0 38 2;
#X connect 23 0 38 3;
#X connect 24 0 38 4;
#X connect 25 0 38 5;
#X connect 26 0 38 6;
#X connect 35 0 38 7;
#X connect 37 0 38 8;
#X connect 38 0 41 0;
#X connect 40 0 28 0;
#X connect 40 1 29 0;
#X connect 40 2 30 0;
#X connect 40 3 31 0;
#X connect 40 4 32 0;
#X connect 40 5 33 0;
#X connect 40 6 34 0;
#X connect 40 7 36 0;
#X connect 40 8 39 0;
#X connect 41 0 4 0;
#X restore 587 221 pd state-saving-multiple-instances;
#X obj 587 296 s \$0-instance-num;
#X obj 587 248 makefilename %d;
#X msg 587 273 label \$1;
#N canvas 731 164 1010 745 state-saving-via-preset-manager-module 0
;
#X obj 440 227 textfile;
#X msg 819 210 rewind;
#X msg 776 210 bang;
#X obj 107 568 textfile;
#X obj 776 171 t b b;
#X obj 107 234 f;
#X obj 121 457 f;
#X obj 53 352 t b b b;
#X msg 237 499 clear;
#X obj 107 56 delay 5;
#X obj 53 407 delay 10;
#X msg 53 192 bang;
#X obj 53 26 r STORE-S!;
#X obj 440 128 f;
#X obj 408 85 t b b;
#X obj 426 49 t b f;
#X obj 485 146 f \$1;
#X obj 440 173 pack f f;
#X obj 485 96 loadbang;
#X obj 121 487 pack f f;
#X obj 174 440 loadbang;
#X obj 174 462 f \$1;
#X obj 440 926 pack f f;
#X obj 440 950 line;
#X obj 493 901 r preset-manager-morph-s;
#X obj 426 26 r preset-manager-scan;
#X obj 462 831 pack f f;
#X obj 462 855 line;
#X obj 515 806 r preset-manager-morph-s;
#X obj 139 418 r preset-manager-store-slot;
#X obj 485 755 line;
#X obj 538 704 r preset-manager-morph-s;
#X msg 43 669 stop;
#X obj 43 602 r STOP-MORPH!;
#X obj 485 731 pack f f;
#X obj 531 500 pack f f;
#X obj 531 524 line;
#X obj 584 475 r preset-manager-morph-s;
#X obj 508 632 line;
#X obj 561 581 r preset-manager-morph-s;
#X obj 508 608 pack f f;
#X msg 440 202 read statesave/\$1-\$2-sampler-ss.txt;
#X msg 120 528 write statesave/\$1-\$2-sampler-ss.txt;
#X obj 125 78 r \$0-sampler-pitch-s;
#X obj 136 107 r \$0-sampler-length-s;
#X obj 148 136 r \$0-sampler-start-s;
#X obj 168 163 r \$0-sampler-pitch-att-s;
#X obj 189 186 r \$0-sampler-length-att-s;
#X obj 209 206 r \$0-sampler-start-att-s;
#X obj 440 975 s \$0-sampler-pitch-r;
#X obj 554 390 pack f f;
#X obj 554 414 line;
#X obj 607 365 r preset-manager-morph-s;
#X obj 554 437 s \$0-sampler-start-att-r;
#X obj 531 547 s \$0-sampler-length-att-r;
#X obj 508 655 s \$0-sampler-pitch-att-r;
#X obj 485 778 s \$0-sampler-start-r;
#X obj 462 878 s \$0-sampler-length-r;
#X obj 224 236 r \$0-loop-on-off-s;
#X obj 569 336 s \$0-loop-on-off-r;
#X obj 244 256 r \$0-filename-s;
#X obj 591 307 s \$0-filename-r;
#X obj 107 301 pack f f f f f f f s f;
#X obj 258 276 r \$0-sample-rate-s;
#X obj 440 249 unpack f f f f f f f s f;
#X obj 611 287 s \$0-sample-rate-r;
#X msg 107 368 set \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8 \$9;
#X connect 0 0 64 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 4 0 2 0;
#X connect 4 1 1 0;
#X connect 5 0 62 0;
#X connect 6 0 19 0;
#X connect 7 0 10 0;
#X connect 7 1 9 0;
#X connect 7 2 8 0;
#X connect 8 0 3 0;
#X connect 9 0 5 0;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X connect 12 0 11 0;
#X connect 13 0 17 0;
#X connect 14 0 4 0;
#X connect 14 1 13 0;
#X connect 15 0 14 0;
#X connect 15 1 13 1;
#X connect 16 0 17 1;
#X connect 17 0 41 0;
#X connect 18 0 16 0;
#X connect 19 0 42 0;
#X connect 20 0 21 0;
#X connect 21 0 19 1;
#X connect 22 0 23 0;
#X connect 23 0 49 0;
#X connect 24 0 22 1;
#X connect 25 0 15 0;
#X connect 26 0 27 0;
#X connect 27 0 57 0;
#X connect 28 0 26 1;
#X connect 29 0 6 1;
#X connect 30 0 56 0;
#X connect 31 0 34 1;
#X connect 32 0 23 0;
#X connect 32 0 27 0;
#X connect 32 0 30 0;
#X connect 32 0 36 0;
#X connect 32 0 51 0;
#X connect 33 0 32 0;
#X connect 34 0 30 0;
#X connect 35 0 36 0;
#X connect 36 0 54 0;
#X connect 37 0 35 1;
#X connect 38 0 55 0;
#X connect 39 0 40 1;
#X connect 40 0 38 0;
#X connect 41 0 0 0;
#X connect 42 0 3 0;
#X connect 43 0 5 1;
#X connect 44 0 62 1;
#X connect 45 0 62 2;
#X connect 46 0 62 3;
#X connect 47 0 62 4;
#X connect 48 0 62 5;
#X connect 50 0 51 0;
#X connect 51 0 53 0;
#X connect 52 0 50 1;
#X connect 58 0 62 6;
#X connect 60 0 62 7;
#X connect 62 0 66 0;
#X connect 63 0 62 8;
#X connect 64 0 22 0;
#X connect 64 1 26 0;
#X connect 64 2 34 0;
#X connect 64 3 40 0;
#X connect 64 4 35 0;
#X connect 64 5 50 0;
#X connect 64 6 59 0;
#X connect 64 7 61 0;
#X connect 64 8 65 0;
#X connect 66 0 3 0;
#X restore 588 193 pd state-saving-via-preset-manager-module;
#N canvas 1204 348 615 354 parameter-nudging-system 0;
#N canvas 0 50 484 497 param-nudge 0;
#X obj 124 234 random;
#X obj 232 335 f;
#X obj 232 368 +;
#X obj 257 166 random 2;
#X obj 124 275 t f f;
#X obj 124 351 t b f;
#X obj 124 297 *;
#X obj 257 188 sel 0 1;
#X msg 257 280 -1;
#X msg 335 280 1;
#X obj 124 149 t b b b;
#X obj 124 123 r NUDGE!;
#X obj 157 193 r NUDGE-RANGE;
#X obj 247 308 inlet;
#X obj 232 397 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 12 0 0 1;
#X connect 13 0 1 1;
#X restore 23 45 pd param-nudge;
#N canvas 0 50 484 497 param-nudge 0;
#X obj 124 234 random;
#X obj 232 335 f;
#X obj 232 368 +;
#X obj 257 166 random 2;
#X obj 124 275 t f f;
#X obj 124 351 t b f;
#X obj 124 297 *;
#X obj 257 188 sel 0 1;
#X msg 257 280 -1;
#X msg 335 280 1;
#X obj 124 149 t b b b;
#X obj 124 123 r NUDGE!;
#X obj 157 193 r NUDGE-RANGE;
#X obj 247 308 inlet;
#X obj 232 397 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 12 0 0 1;
#X connect 13 0 1 1;
#X restore 211 45 pd param-nudge;
#N canvas 0 50 484 497 param-nudge 0;
#X obj 124 234 random;
#X obj 232 335 f;
#X obj 232 368 +;
#X obj 257 166 random 2;
#X obj 124 275 t f f;
#X obj 124 351 t b f;
#X obj 124 297 *;
#X obj 257 188 sel 0 1;
#X msg 257 280 -1;
#X msg 335 280 1;
#X obj 124 149 t b b b;
#X obj 124 123 r NUDGE!;
#X obj 157 193 r NUDGE-RANGE;
#X obj 247 308 inlet;
#X obj 232 397 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 12 0 0 1;
#X connect 13 0 1 1;
#X restore 413 45 pd param-nudge;
#N canvas 0 50 484 497 param-nudge 0;
#X obj 124 234 random;
#X obj 232 335 f;
#X obj 232 368 +;
#X obj 257 166 random 2;
#X obj 124 275 t f f;
#X obj 124 351 t b f;
#X obj 124 297 *;
#X obj 257 188 sel 0 1;
#X msg 257 280 -1;
#X msg 335 280 1;
#X obj 124 149 t b b b;
#X obj 124 123 r NUDGE!;
#X obj 157 193 r NUDGE-RANGE;
#X obj 247 308 inlet;
#X obj 232 397 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 12 0 0 1;
#X connect 13 0 1 1;
#X restore 21 216 pd param-nudge;
#X obj 23 67 clip 0 127;
#X obj 211 67 clip 0 127;
#X obj 413 67 clip 0 127;
#X obj 23 156 s \$0-sampler-pitch-r;
#X obj 211 139 s \$0-sampler-length-r;
#X obj 413 139 s \$0-sampler-start-r;
#X obj 21 287 s \$0-sampler-pitch-att-r;
#X obj 21 238 clip 0 127;
#N canvas 0 50 484 497 param-nudge 0;
#X obj 124 234 random;
#X obj 232 335 f;
#X obj 232 368 +;
#X obj 257 166 random 2;
#X obj 124 275 t f f;
#X obj 124 351 t b f;
#X obj 124 297 *;
#X obj 257 188 sel 0 1;
#X msg 257 280 -1;
#X msg 335 280 1;
#X obj 124 149 t b b b;
#X obj 124 123 r NUDGE!;
#X obj 157 193 r NUDGE-RANGE;
#X obj 247 308 inlet;
#X obj 232 397 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 12 0 0 1;
#X connect 13 0 1 1;
#X restore 211 216 pd param-nudge;
#X obj 211 238 clip 0 127;
#N canvas 0 50 484 497 param-nudge 0;
#X obj 124 234 random;
#X obj 232 335 f;
#X obj 232 368 +;
#X obj 257 166 random 2;
#X obj 124 275 t f f;
#X obj 124 351 t b f;
#X obj 124 297 *;
#X obj 257 188 sel 0 1;
#X msg 257 280 -1;
#X msg 335 280 1;
#X obj 124 149 t b b b;
#X obj 124 123 r NUDGE!;
#X obj 157 193 r NUDGE-RANGE;
#X obj 247 308 inlet;
#X obj 232 397 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 1 2 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 10 0;
#X connect 12 0 0 1;
#X connect 13 0 1 1;
#X restore 411 216 pd param-nudge;
#X obj 411 238 clip 0 127;
#X obj 211 287 s \$0-sampler-length-att-r;
#X obj 411 287 s \$0-sampler-start-att-r;
#X obj 23 22 r \$0-sampler-pitch-s;
#X obj 211 22 r \$0-sampler-length-s;
#X obj 413 22 r \$0-sampler-start-s;
#X obj 21 193 r \$0-sampler-pitch-att-s;
#X obj 211 193 r \$0-sampler-length-att-s;
#X obj 411 193 r \$0-sampler-start-att-s;
#X obj 23 89 / 127;
#X obj 23 111 * 2;
#X obj 23 133 - 2;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 11 0;
#X connect 4 0 24 0;
#X connect 5 0 8 0;
#X connect 6 0 9 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 16 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 18 0 0 0;
#X connect 19 0 1 0;
#X connect 20 0 2 0;
#X connect 21 0 3 0;
#X connect 22 0 12 0;
#X connect 23 0 14 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 7 0;
#X restore 589 165 pd parameter-nudging-system;
#X text 118 428 Open the sample;
#X obj 175 303 cnv 5 5 5 empty empty OUT_R 0 0 0 8 -262144 -66577 0
;
#X obj 107 243 hsl 128 15 0 127 0 1 \$0-sampler-length-att-s \$0-sampler-length-att-r
LENGTH 133 7 0 10 -158136 -1 -1 0 1;
#X obj 107 258 hsl 128 15 0 127 0 1 \$0-sampler-start-att-s \$0-sampler-start-att-r
START 133 7 0 10 -158136 -1 -1 0 1;
#X obj 107 228 hsl 128 15 0 127 0 1 \$0-sampler-pitch-att-s \$0-sampler-pitch-att-r
PITCH 133 7 0 10 -158136 -1 -1 0 1;
#X obj 670 574 *~;
#X obj 679 76 inlet~ PITCH;
#X obj 679 98 throw~ \$0-sampler-PITCH;
#X obj 670 519 *~;
#X obj 687 471 pack 0 50;
#X obj 687 493 line~;
#X obj 854 76 inlet~ LENGTH;
#X obj 864 109 throw~ \$0-sampler-LENGTH;
#X text 568 575 Sample pitch;
#X obj 1043 98 throw~ \$0-sample-START;
#X obj 227 476 t f f;
#X obj 1043 76 inlet~ START;
#X obj 855 131 throw~ \$0-sampler-LENGTH2;
#N canvas 693 365 353 379 sample-length 0;
#X obj 30 21 r \$0-sampler-length-s;
#X obj 30 65 pack 0 50;
#X obj 30 87 line~;
#X obj 30 282 clip~ 0 1;
#X obj 47 119 catch~ \$0-sampler-LENGTH;
#X obj 29 260 +~;
#X obj 65 144 r \$0-sampler-length-att-s;
#X obj 47 233 *~;
#X obj 65 188 pack 0 50;
#X obj 65 210 line~;
#X obj 30 315 outlet~;
#X obj 65 166 / 127;
#X obj 30 43 / 127;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 10 0;
#X connect 4 0 7 0;
#X connect 5 0 3 0;
#X connect 6 0 11 0;
#X connect 7 0 5 1;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 11 0 8 0;
#X connect 12 0 1 0;
#X restore 688 368 pd sample-length;
#N canvas 186 336 426 589 sample-pitch 0;
#X obj 47 27 r \$0-sampler-pitch-s;
#X obj 47 101 pack 0 50;
#X obj 47 123 line~;
#X obj 46 364 +~;
#X obj 65 175 catch~ \$0-sampler-PITCH;
#X obj 45 457 outlet~;
#X obj 65 332 *~;
#X obj 82 287 pack 0 50;
#X obj 82 309 line~;
#X obj 82 236 r \$0-sampler-pitch-att-s;
#X obj 82 263 / 127;
#X obj 65 197 *~ 127;
#X obj 93 399 snapshot~;
#X obj 109 374 metro 100;
#X floatatom 93 421 10 0 0 0 - - -, f 10;
#X obj 109 351 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 0 12 0;
#X connect 4 0 11 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X connect 11 0 6 0;
#X connect 12 0 14 0;
#X connect 13 0 12 0;
#X connect 15 0 13 0;
#X restore 689 548 pd sample-pitch;
#X obj 635 388 sig~ 1;
#X obj 671 415 /~;
#N canvas 693 365 353 379 sample-length2 0;
#X obj 23 11 r \$0-sampler-length-s;
#X obj 23 55 pack 0 50;
#X obj 23 77 line~;
#X obj 23 282 clip~ 0 1;
#X obj 22 260 +~;
#X obj 58 146 r \$0-sampler-length-att-s;
#X obj 40 233 *~;
#X obj 58 188 pack 0 50;
#X obj 58 210 line~;
#X obj 23 315 outlet~;
#X obj 40 121 catch~ \$0-sampler-LENGTH2;
#X obj 58 167 / 127;
#X obj 23 34 / 127;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 11 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 10 0 6 0;
#X connect 11 0 7 0;
#X connect 12 0 1 0;
#X restore 689 877 pd sample-length2;
#N canvas 786 589 394 334 sample-start 0;
#X obj 24 18 r \$0-sampler-start-s;
#X obj 24 67 pack 0 50;
#X obj 24 89 line~;
#X obj 24 241 +~;
#X obj 24 263 clip~ 0 1;
#X obj 42 115 catch~ \$0-sample-START;
#X obj 42 207 *~;
#X obj 60 150 r \$0-sampler-start-att-s;
#X obj 24 285 outlet~;
#X obj 60 181 / 127;
#X obj 24 44 / 127;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 3 1;
#X connect 7 0 9 0;
#X connect 9 0 6 1;
#X connect 10 0 1 0;
#X restore 688 939 pd sample-start;
#X obj 669 1083 tabread4~ \$0-sample-L;
#X obj 737 1112 tabread4~ \$0-sample-R;
#X obj 726 577 r \$0-bang;
#X msg 726 665 0;
#X obj 849 669 sel 1;
#X msg 849 696 1;
#X text 518 771 Detect end of sample;
#X obj 807 600 t f f;
#N canvas 65 231 809 734 detect-end-of-sample 0;
#X obj 128 641 outlet bang-on-end;
#X msg 28 515 0;
#X obj 27 617 spigot;
#X obj 27 641 outlet;
#X obj 98 20 inlet~ pitch;
#X msg 98 100 1;
#X obj 98 126 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 298 97 0;
#X obj 98 73 threshold~ 0.0001 0 -0.0001 0;
#X obj 98 168 == 0;
#X obj 73 197 *~ 1;
#X obj 27 197 *~ 1;
#X text 250 270 Reversed;
#X text 250 246 Normal;
#X text 359 35 Bang when the sample has ended. We detect the end of
the sample with [threshold~ 0.9999] \, however \, when the sample is
played in reverse \, it would trigger this instantly. We need to detect
when the sample is playing in reverse so that we can use [threshold~
0.0001] to bang the end of the sample. We detect if the sample is reversed
by checking if the pitch of the phasor~ is negative.;
#X text 367 192 If loop is set to off \, we also need to mute the audio
from the phasor when the sample has ended.;
#X obj 73 401 t b b;
#X obj 27 401 t b b;
#X obj 43 424 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 112 423 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 27 352 spigot;
#X obj 73 373 spigot;
#X obj 112 318 r \$0-required-hack;
#X obj 28 579 t f f;
#X obj 128 619 spigot;
#X obj 195 534 sel 1;
#X msg 195 556 1;
#X obj 195 488 f;
#X floatatom 202 512 5 0 0 0 - - -, f 5;
#X obj 145 526 == 0;
#X obj 246 510 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 150 422 sel 0;
#X obj 162 443 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 356 415 We also piggy back off of \$0-required-hack to get
a bang whenver a new trigger is recieved \, so we can reset the spigots
at the bottom.;
#X text 253 318 <-------------;
#X obj 195 19 inlet loop-on-off;
#X obj 26 18 inlet~;
#X floatatom 145 548 5 0 0 0 - - -, f 5;
#X text 359 503 This is a mess of spigots \, but since we are using
a phasor~ object \, we are constanly cycling from 0 to 1 (or 1 to 0
if reversed). When loop is set to OFF \, we need to send the bang -on-end
\, send a 0 out of the left outlet \, then finally turn off both the
left and right outlet. The phasor~ will keep cycling \, but the patch
won't be outputting anything anymore.;
#X text 360 594 When loop is ON \, we need to turn both outlet back
on \, and disable them from being turned off. This is controlled using
spigots after the 0 message box.;
#X text 253 418 <-------------;
#X text 253 538 <-------------;
#X text 356 319 When the phase is reset to 0 this causes the threshold~
to trigger if the sample is being played in reverse. I tried setting
the phasor~ to 1 if the sample is in reverse \, but it still had this
problem. All this does is turn off the theshold~ outputs when the phasor~
is being reset \, then 5ms later it turns them back on.;
#X obj 28 553 spigot;
#X obj 67 535 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 27 240 threshold~ 0.999 0 0.5 0;
#X obj 73 271 threshold~ 0.001 0 0.5 0;
#X connect 1 0 43 0;
#X connect 1 0 44 0;
#X connect 2 0 3 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 6 0 11 1;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 8 1 7 0;
#X connect 9 0 10 1;
#X connect 10 0 46 0;
#X connect 11 0 45 0;
#X connect 16 0 1 0;
#X connect 16 1 19 0;
#X connect 16 1 24 0;
#X connect 17 0 1 0;
#X connect 17 1 18 0;
#X connect 17 1 24 0;
#X connect 20 0 17 0;
#X connect 21 0 16 0;
#X connect 22 0 20 1;
#X connect 22 0 21 1;
#X connect 22 0 31 0;
#X connect 23 0 24 1;
#X connect 23 0 2 1;
#X connect 23 1 2 0;
#X connect 24 0 0 0;
#X connect 25 0 26 0;
#X connect 26 0 24 1;
#X connect 26 0 2 1;
#X connect 27 0 25 0;
#X connect 27 0 28 0;
#X connect 27 0 29 0;
#X connect 27 0 30 0;
#X connect 29 0 37 0;
#X connect 29 0 43 1;
#X connect 31 0 26 0;
#X connect 31 0 32 0;
#X connect 35 0 27 0;
#X connect 36 0 11 0;
#X connect 36 0 10 0;
#X connect 43 0 23 0;
#X connect 45 0 20 0;
#X connect 46 0 21 0;
#X restore 689 777 pd detect-end-of-sample;
#X text 87 688 Create an array without the gui!;
#X obj 932 711 s \$0-required-hack;
#X obj 726 621 t b b b;
#X msg 957 664 0;
#X msg 913 685 1;
#X text 894 636 Used in detect-end-of-sample;
#X obj 913 665 del 5;
#X obj 726 599 t b b;
#X text 460 997 Wrap around if we go past end;
#X text 498 1105 Finally play the sample;
#X text 318 120 Bang resets the phasor~ to 0;
#X obj 807 578 r \$0-loop-on-off-s;
#X text 76 956 _megalon_ 2017;
#X text 35 990 This is a stereo sample player designed for AUTOMATONISM.
;
#X obj 521 96 threshold~ 0.99 0 1 0;
#X obj 521 74 inlet~ trig;
#X obj 104 109 cnv 5 5 5 empty empty TRIG 0 0 0 8 -262144 -226533 0
;
#X obj 149 109 cnv 5 5 5 empty empty PITCH 0 0 0 8 -262144 -120682
0;
#X msg 847 800 1 0 \, 0 1 1;
#X obj 847 822 vline~;
#X obj 847 844 outlet~;
#X text 906 845 Output trig on end;
#X obj 456 97 loadbang;
#X obj 134 163 bng 15 250 50 0 \$0-pitch-presets-1-s \$0-pitch-presets-1-r
-1 0 -6 0 10 -204800 -1 -1;
#X obj 149 163 bng 15 250 50 0 \$0-pitch-presets-2-s \$0-pitch-presets-1-r
empty -5 -6 0 10 -204800 -1 -1;
#X obj 164 163 bng 15 250 50 0 \$0-pitch-presets-3-s \$0-pitch-presets-1-r
0 5 -6 0 10 -204800 -1 -1;
#X obj 179 163 bng 15 250 50 0 \$0-pitch-presets-4-s \$0-pitch-presets-1-r
empty -1 -6 0 10 -204800 -1 -1;
#X obj 194 163 bng 15 250 50 0 \$0-pitch-presets-5-s \$0-pitch-presets-1-r
1 5 -6 0 10 -204800 -1 -1;
#X obj 209 163 bng 15 250 50 0 \$0-pitch-presets-5-s \$0-pitch-presets-1-r
empty 30 7 0 10 -204800 -1 -1;
#X obj 119 163 bng 15 250 50 0 \$0-pitch-presets--2-s \$0-pitch-presets--2-s
empty 0 -6 0 10 -204800 -1 -1;
#X obj 224 163 bng 15 250 50 0 \$0-pitch-presets-5-s \$0-pitch-presets-1-r
2 5 -6 0 10 -204800 -1 -1;
#X obj 104 163 bng 15 250 50 0 \$0-pitch-presets-1-s \$0-pitch-presets-1-r
-2 0 -6 0 10 -204800 -1 -1;
#N canvas 591 509 450 351 apply-pitch-presets 0;
#X obj 191 232 f;
#X obj 191 255 s \$0-sampler-pitch-r;
#X obj 48 43 inlet;
#X obj 87 43 inlet;
#X obj 126 43 inlet;
#X obj 165 43 inlet;
#X obj 204 43 inlet;
#X obj 243 43 inlet;
#X obj 282 43 inlet;
#X obj 321 43 inlet;
#X obj 360 43 inlet;
#X msg 48 135 -2;
#X msg 87 110 -1.5;
#X msg 126 135 -1;
#X msg 165 109 -0.5;
#X msg 204 134 0;
#X msg 243 109 0.5;
#X msg 282 133 1;
#X msg 321 110 1.5;
#X msg 360 135 2;
#X connect 0 0 1 0;
#X connect 2 0 11 0;
#X connect 3 0 12 0;
#X connect 4 0 13 0;
#X connect 5 0 14 0;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 8 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 19 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 14 0 0 0;
#X connect 15 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X restore 304 178 pd apply-pitch-presets;
#X obj 104 278 nbx 6 14 -1e+037 1e+037 0 0 \$0-sample-rate-s \$0-sample-rate-r
SAMPLE_RATE 65 7 0 10 -262144 -1 -1 44100 256;
#X obj 292 225 loadbang;
#X msg 292 247 44100;
#X obj 292 269 s \$0-sample-rate-r;
#X obj 79 533 r \$0-sample-rate-s;
#X obj 227 589 f 44100;
#X text 356 246 DEFAULT SAMPLE RATE;
#X obj 829 801 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 236 303 cnv 5 5 5 empty empty END_TRIG 0 0 0 8 -262144 -226533
0;
#X obj 79 555 pipe 5;
#X obj 122 715 array define \$0-sample-L;
#X obj 122 735 array define \$0-sample-R;
#X connect 7 0 33 0;
#X connect 8 0 62 0;
#X connect 9 0 36 0;
#X connect 10 0 118 0;
#X connect 10 1 9 1;
#X connect 11 0 71 0;
#X connect 11 0 72 0;
#X connect 12 0 13 0;
#X connect 13 0 35 0;
#X connect 17 0 29 0;
#X connect 17 0 79 0;
#X connect 28 0 33 0;
#X connect 29 0 12 0;
#X connect 33 0 8 0;
#X connect 35 0 11 0;
#X connect 37 0 56 0;
#X connect 39 0 11 1;
#X connect 41 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 42 0;
#X connect 52 0 17 0;
#X connect 52 0 79 1;
#X connect 53 0 54 0;
#X connect 55 0 52 0;
#X connect 56 0 57 0;
#X connect 57 0 55 1;
#X connect 58 0 59 0;
#X connect 58 0 64 0;
#X connect 62 0 10 0;
#X connect 62 1 38 0;
#X connect 63 0 61 0;
#X connect 65 0 68 1;
#X connect 66 0 52 1;
#X connect 67 0 68 0;
#X connect 68 0 55 0;
#X connect 69 0 12 1;
#X connect 70 0 13 1;
#X connect 71 0 26 0;
#X connect 72 0 40 0;
#X connect 73 0 87 0;
#X connect 74 0 17 1;
#X connect 75 0 76 0;
#X connect 76 0 29 1;
#X connect 78 0 79 2;
#X connect 78 1 75 0;
#X connect 79 0 29 1;
#X connect 79 1 98 0;
#X connect 79 1 120 0;
#X connect 82 0 86 0;
#X connect 82 1 74 0;
#X connect 82 2 83 0;
#X connect 83 0 81 0;
#X connect 84 0 81 0;
#X connect 86 0 84 0;
#X connect 87 0 82 0;
#X connect 87 1 76 0;
#X connect 91 0 78 0;
#X connect 94 0 32 0;
#X connect 95 0 94 0;
#X connect 98 0 99 0;
#X connect 99 0 100 0;
#X connect 102 0 32 0;
#X connect 103 0 112 2;
#X connect 104 0 112 3;
#X connect 105 0 112 4;
#X connect 106 0 112 5;
#X connect 107 0 112 6;
#X connect 108 0 112 7;
#X connect 109 0 112 1;
#X connect 110 0 112 8;
#X connect 111 0 112 0;
#X connect 114 0 115 0;
#X connect 115 0 116 0;
#X connect 117 0 122 0;
#X connect 118 0 9 0;
#X connect 122 0 118 0;
#X coords 0 -1 1 1 180 210 2 100 100;
